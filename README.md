# KABAN SYSTEM - –°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è 3D –ø—Ä–∏–Ω—Ç–µ—Ä–∞–º–∏

## üìã –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

**KABAN SYSTEM** - —ç—Ç–æ –∫–æ–º–ø–ª–µ–∫—Å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è 3D –ø—Ä–∏–Ω—Ç–µ—Ä–∞–º–∏, —Å–æ—Å—Ç–æ—è—â–∞—è –∏–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞, Telegram –±–æ—Ç–∞ –∏ API —Å–µ—Ä–≤–µ—Ä–∞. –°–∏—Å—Ç–µ–º–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –º–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–∏–Ω—Ç–µ—Ä–æ–≤, —É–ø—Ä–∞–≤–ª—è—Ç—å –∏–º–∏ —É–¥–∞–ª–µ–Ω–Ω–æ, –¥–µ–ª–∞—Ç—å —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ —Å –∫–∞–º–µ—Ä –∏ –≤—ã–ø–æ–ª–Ω—è—Ç—å –∞–≤–∞—Ä–∏–π–Ω—É—é –æ—Å—Ç–∞–Ω–æ–≤–∫—É.

### üéØ –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å**: –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π UI –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –ø—Ä–∏–Ω—Ç–µ—Ä–æ–≤
- **Telegram –±–æ—Ç**: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä
- **API —Å–µ—Ä–≤–µ—Ä**: REST API –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: SQLite –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø—Ä–∏–Ω—Ç–µ—Ä–∞—Ö
- **–ö–∞–º–µ—Ä—ã**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π —Å –∫–∞–º–µ—Ä –ø—Ä–∏–Ω—Ç–µ—Ä–æ–≤
- **–ê–≤–∞—Ä–∏–π–Ω–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞**: –£–¥–∞–ª–µ–Ω–Ω–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–∏–Ω—Ç–µ—Ä–æ–≤

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

```
KABAN_SYSTEM/
‚îú‚îÄ‚îÄ üìÅ Core/                    # –Ø–¥—Ä–æ —Å–∏—Å—Ç–µ–º—ã
‚îÇ   ‚îú‚îÄ‚îÄ config.py              # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (—Ç–æ–∫–µ–Ω—ã –±–æ—Ç–∞)
‚îÇ   ‚îú‚îÄ‚îÄ core.py                # –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ capture.py             # –†–∞–±–æ—Ç–∞ —Å –∫–∞–º–µ—Ä–∞–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ path.py                # –ü—É—Ç–∏ –∫ —Ñ–∞–π–ª–∞–º
‚îÇ   ‚îî‚îÄ‚îÄ requests_printer/      # HTTP –∑–∞–ø—Ä–æ—Å—ã –∫ –ø—Ä–∏–Ω—Ç–µ—Ä–∞–º
‚îú‚îÄ‚îÄ üìÅ bot/                    # Telegram –±–æ—Ç
‚îÇ   ‚îú‚îÄ‚îÄ main_bot/             # –û—Å–Ω–æ–≤–Ω–æ–π –±–æ—Ç
‚îÇ   ‚îú‚îÄ‚îÄ ui_bot/               # UI –±–æ—Ç
‚îÇ   ‚îú‚îÄ‚îÄ db_bot/               # –ë–æ—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ë–î
‚îÇ   ‚îú‚îÄ‚îÄ keyboard.py           # –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã
‚îÇ   ‚îî‚îÄ‚îÄ states.py             # –°–æ—Å—Ç–æ—è–Ω–∏—è FSM
‚îú‚îÄ‚îÄ üìÅ db/                     # –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ db.py                 # –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ë–î
‚îÇ   ‚îî‚îÄ‚îÄ printer_manager.py    # –ö–æ–Ω—Å–æ–ª—å–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä
‚îú‚îÄ‚îÄ üìÅ frontEnd/               # –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚îÇ   ‚îú‚îÄ‚îÄ index.html            # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
‚îÇ   ‚îî‚îÄ‚îÄ static/               # CSS –∏ JS —Ñ–∞–π–ª—ã
‚îú‚îÄ‚îÄ üìÅ photo/                  # –§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –ø—Ä–∏–Ω—Ç–µ—Ä–æ–≤
‚îú‚îÄ‚îÄ server.py                  # FastAPI —Å–µ—Ä–≤–µ—Ä
‚îú‚îÄ‚îÄ main.py                    # –ó–∞–ø—É—Å–∫ Telegram –±–æ—Ç–∞
‚îî‚îÄ‚îÄ README.md                  # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.8+
- SQLite3
- –í–µ–±-–∫–∞–º–µ—Ä–∞ (–¥–ª—è —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π)
- –î–æ—Å—Ç—É–ø –∫ —Å–µ—Ç–∏ —Å 3D –ø—Ä–∏–Ω—Ç–µ—Ä–∞–º–∏

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. **–ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è**
```bash
git clone <repository-url>
cd KABAN_SYSTEM
```

2. **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π**
```bash
pip install fastapi uvicorn aiogram opencv-python sqlite3 requests jinja2
```

3. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏**
–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª `Core/config.py`:
```python
BOT_TOKEN = "–≤–∞—à_—Ç–æ–∫–µ–Ω_–±–æ—Ç–∞"
```

4. **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö**
```bash
python check_db.py
```

### –ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã

#### 1. –ó–∞–ø—É—Å–∫ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞
```bash
python server.py
```
–°–µ—Ä–≤–µ—Ä –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: `http://localhost:8000`

#### 2. –ó–∞–ø—É—Å–∫ Telegram –±–æ—Ç–∞
```bash
python main.py
```

#### 3. –ö–æ–Ω—Å–æ–ª—å–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä –ø—Ä–∏–Ω—Ç–µ—Ä–æ–≤
```bash
python db/printer_manager.py
```

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –¢–∞–±–ª–∏—Ü–∞ `printers`
| –ü–æ–ª–µ    | –¢–∏–ø    | –û–ø–∏—Å–∞–Ω–∏–µ                    |
|---------|--------|----------------------------|
| id      | TEXT   | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID –ø—Ä–∏–Ω—Ç–µ—Ä–∞      |
| name    | TEXT   | –ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–∏–Ω—Ç–µ—Ä–∞           |
| ip      | TEXT   | IP –∞–¥—Ä–µ—Å –ø—Ä–∏–Ω—Ç–µ—Ä–∞           |
| camera  | TEXT   | –ò–Ω–¥–µ–∫—Å –∫–∞–º–µ—Ä—ã               |

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ë–î

- `add_printer(id, name, ip, camera)` - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–Ω—Ç–µ—Ä–∞
- `get_all_printers()` - –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –ø—Ä–∏–Ω—Ç–µ—Ä–æ–≤
- `get_printer(id)` - –ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–∏–Ω—Ç–µ—Ä–∞ –ø–æ ID
- `update_printer(id, field, value)` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–ª—è
- `delete_printer(id)` - –£–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–∏–Ω—Ç–µ—Ä–∞

## üåê –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

### –û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

- **–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞** (`/`) - –î–∞—à–±–æ—Ä–¥ —Å –ø—Ä–∏–Ω—Ç–µ—Ä–∞–º–∏
- **API –ø—Ä–∏–Ω—Ç–µ—Ä–æ–≤** (`/all_printers`) - JSON —Å–ø–∏—Å–æ–∫ –ø—Ä–∏–Ω—Ç–µ—Ä–æ–≤
- **–§–æ—Ç–æ –ø—Ä–∏–Ω—Ç–µ—Ä–∞** (`/printer_photo/{id}`) - –§–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è –ø—Ä–∏–Ω—Ç–µ—Ä–∞
- **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ñ–æ—Ç–æ** (`/update_printer_photo/{id}`) - POST –∑–∞–ø—Ä–æ—Å –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

- **–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω** - —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
- **–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π UI** - –≥—Ä–∞–¥–∏–µ–Ω—Ç—ã, —Ç–µ–Ω–∏, –∞–Ω–∏–º–∞—Ü–∏–∏
- **–ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–∏–Ω—Ç–µ—Ä–æ–≤
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** - –ø–æ–∫–∞–∑ —Å–æ–æ–±—â–µ–Ω–∏–π –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö

## ü§ñ Telegram –±–æ—Ç

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

- **–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é** - –Ω–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ —Å–∏—Å—Ç–µ–º–µ
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–Ω—Ç–µ—Ä–∞–º–∏** - –¥–æ—Å—Ç—É–ø –∫ –ø—Ä–∏–Ω—Ç–µ—Ä–∞–º
- **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–Ω—Ç–µ—Ä–∞** - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –ë–î
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ë–î

### –§—É–Ω–∫—Ü–∏–∏ –±–æ—Ç–∞

#### 1. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–Ω—Ç–µ—Ä–∞–º–∏
- –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–ø–∏—Å–∫–∞ –ø—Ä–∏–Ω—Ç–µ—Ä–æ–≤
- –ê–≤–∞—Ä–∏–π–Ω–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–æ—Å—Ç–æ—è–Ω–∏—è

#### 2. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –ø—Ä–∏–Ω—Ç–µ—Ä–æ–≤
- –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö
- –£–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–∏–Ω—Ç–µ—Ä–æ–≤
- –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –ø—Ä–∏–Ω—Ç–µ—Ä–æ–≤

### –°–æ—Å—Ç–æ—è–Ω–∏—è FSM

```python
class Form(StatesGroup):
    waiting_for_id = State()      # –û–∂–∏–¥–∞–Ω–∏–µ ID
    waiting_for_name = State()    # –û–∂–∏–¥–∞–Ω–∏–µ –∏–º–µ–Ω–∏
    waiting_for_ip = State()      # –û–∂–∏–¥–∞–Ω–∏–µ IP
    waiting_for_camera = State()  # –û–∂–∏–¥–∞–Ω–∏–µ –∫–∞–º–µ—Ä—ã
    delete_for_printer = State()  # –£–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–∏–Ω—Ç–µ—Ä–∞
    update_for_item = State()     # –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞
    chooce_item = State()         # –í—ã–±–æ—Ä —ç–ª–µ–º–µ–Ω—Ç–∞
    item_name = State()           # –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–º–µ–Ω–∏
    item_ip = State()             # –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ IP
    item_camera = State()         # –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–º–µ—Ä—ã
```

## üîß API Endpoints

### GET –∑–∞–ø—Ä–æ—Å—ã

| Endpoint | –û–ø–∏—Å–∞–Ω–∏–µ | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç |
|----------|----------|------------|
| `/` | –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ | HTML |
| `/all_printers` | –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø—Ä–∏–Ω—Ç–µ—Ä–æ–≤ | JSON |

| `/printer_photo/{printer_id}` | –§–æ—Ç–æ –ø—Ä–∏–Ω—Ç–µ—Ä–∞ | Image |

### POST –∑–∞–ø—Ä–æ—Å—ã

| Endpoint | –û–ø–∏—Å–∞–Ω–∏–µ | –ü–∞—Ä–∞–º–µ—Ç—Ä—ã |
|----------|----------|-----------|
| `/update_printer_photo/{printer_id}` | –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ñ–æ—Ç–æ | printer_id |

### –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è API

#### –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ø—Ä–∏–Ω—Ç–µ—Ä–æ–≤
```bash
curl http://localhost:8000/all_printers
```

#### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ñ–æ—Ç–æ –ø—Ä–∏–Ω—Ç–µ—Ä–∞
```bash
curl -X POST http://localhost:8000/update_printer_photo/0
```

## üì∑ –†–∞–±–æ—Ç–∞ —Å –∫–∞–º–µ—Ä–∞–º–∏

### –§—É–Ω–∫—Ü–∏–∏ –∫–∞–º–µ—Ä

- `get_frame(id_camera)` - –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–∞–¥—Ä–∞ —Å –∫–∞–º–µ—Ä—ã
- `create_photo(name)` - –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–æ—Ç–æ –ø—Ä–∏–Ω—Ç–µ—Ä–∞
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ø–∞–ø–∫—É `photo/`

### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∫–∞–º–µ—Ä
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏–µ –¥–ª—è –ø—Ä–∏–Ω—Ç–µ—Ä–∞ "–°–ª–æ–Ω"
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –∫–∞–º–µ—Ä—ã
- Fallback –Ω–∞ –¥–µ—Ñ–æ–ª—Ç–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ

## üõ†Ô∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–Ω—Ç–µ—Ä–∞–º–∏

### HTTP –∑–∞–ø—Ä–æ—Å—ã –∫ –ø—Ä–∏–Ω—Ç–µ—Ä–∞–º

```python
def emegency_stop(url):
    """–ê–≤–∞—Ä–∏–π–Ω–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–∏–Ω—Ç–µ—Ä–∞"""
    endpoint = "/printer/emergency_stop"
    return resp_post(url, endpoint)
```

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

- **–ê–≤–∞—Ä–∏–π–Ω–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞** - `/printer/emergency_stop`
- **–ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏** - `/printer/objects/list` (–∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ)
- **–í–æ–∑–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–µ—á–∞—Ç–∏** - `/printer/print/resume` (–∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ)
- **–û—Ç–º–µ–Ω–∞ –ø–µ—á–∞—Ç–∏** - `/printer/print/cancle` (–∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ)

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–¢–æ–∫–µ–Ω –±–æ—Ç–∞** - —Ö—Ä–∞–Ω–∏—Ç–µ –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–º –º–µ—Å—Ç–µ
2. **–°–µ—Ç—å** - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ VPN –¥–ª—è —É–¥–∞–ª–µ–Ω–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
3. **–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞** - –æ–≥—Ä–∞–Ω–∏—á—å—Ç–µ –¥–æ—Å—Ç—É–ø –∫ API
4. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** - –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

```python
# –í server.py
app.add_middleware(
    CORSMiddleware,
    allow_origins=["*"]  # –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
)
```

## üêõ –û—Ç–ª–∞–¥–∫–∞ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ë–î
```bash
python check_db.py
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∏–Ω—Ç–µ—Ä–∞
```bash
python test_add_printer.py
```

### –õ–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏
- –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –ë–î –ª–æ–≥–∏—Ä—É—é—Ç—Å—è
- –û—à–∏–±–∫–∏ –∫–∞–º–µ—Ä –≤—ã–≤–æ–¥—è—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å
- HTTP –∑–∞–ø—Ä–æ—Å—ã –∫ –ø—Ä–∏–Ω—Ç–µ—Ä–∞–º –ª–æ–≥–∏—Ä—É—é—Ç—Å—è

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–π–ª—ã

| –§–∞–π–ª | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|------|------------|
| `server.py` | FastAPI –≤–µ–±-—Å–µ—Ä–≤–µ—Ä |
| `main.py` | –ó–∞–ø—É—Å–∫ Telegram –±–æ—Ç–∞ |
| `Core/core.py` | –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Å–∏—Å—Ç–µ–º—ã |
| `Core/capture.py` | –†–∞–±–æ—Ç–∞ —Å –∫–∞–º–µ—Ä–∞–º–∏ |
| `Core/config.py` | –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è |
| `db/db.py` | –§—É–Ω–∫—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö |
| `frontEnd/index.html` | –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å |

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

| –§–∞–π–ª | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|----------|
| `Core/path.py` | –ü—É—Ç–∏ –∫ —Ñ–∞–π–ª–∞–º –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –û–° |
| `Core/config.py` | –¢–æ–∫–µ–Ω—ã –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ |
| `bot/keyboard.py` | –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã –±–æ—Ç–∞ |
| `bot/states.py` | –°–æ—Å—Ç–æ—è–Ω–∏—è FSM |

## üîÑ –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª —Å–∏—Å—Ç–µ–º—ã

### 1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
- –°–æ–∑–¥–∞–Ω–∏–µ –ë–î –∏ —Ç–∞–±–ª–∏—Ü
- –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–∞–º–µ—Ä

### 2. –†–∞–±–æ—Ç–∞ —Å–∏—Å—Ç–µ–º—ã
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–∏–Ω—Ç–µ—Ä–æ–≤
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–Ω—Ç–µ—Ä–∞–º–∏

### 3. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã
- –ó–∞–∫—Ä—ã—Ç–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π —Å –ë–î
- –û—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤ –∫–∞–º–µ—Ä
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è

## üöÄ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

### –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ
```bash
# 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pip install -r requirements.txt

# 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ Core/config.py

# 3. –ó–∞–ø—É—Å–∫
python server.py & python main.py
```

### Docker —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è)
```dockerfile
FROM python:3.9-slim
WORKDIR /app
COPY . .
RUN pip install -r requirements.txt
EXPOSE 8000
CMD ["python", "server.py"]
```

## üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –º–µ—Ç—Ä–∏–∫–∏

### –î–æ—Å—Ç—É–ø–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏

- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–∏–Ω—Ç–µ—Ä–æ–≤ –≤ –ë–î
- –°—Ç–∞—Ç—É—Å –∫–∞–º–µ—Ä
- –í—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞ API
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—à–∏–±–æ–∫

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

- –û–ø–µ—Ä–∞—Ü–∏–∏ —Å –ë–î
- HTTP –∑–∞–ø—Ä–æ—Å—ã –∫ –ø—Ä–∏–Ω—Ç–µ—Ä–∞–º
- –û—à–∏–±–∫–∏ –∫–∞–º–µ—Ä
- –î–µ–π—Å—Ç–≤–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞

### –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

1. **–û—à–∏–±–∫–∞ "Printer with ID already exists"**
   - –†–µ—à–µ–Ω–∏–µ: –£–¥–∞–ª–∏—Ç–µ –ø—Ä–∏–Ω—Ç–µ—Ä –∏–∑ –ë–î –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥—Ä—É–≥–æ–π ID

2. **–ö–∞–º–µ—Ä–∞ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω–¥–µ–∫—Å –∫–∞–º–µ—Ä—ã
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∫–∞–º–µ—Ä–∞ –Ω–µ –∑–∞–Ω—è—Ç–∞ –¥—Ä—É–≥–∏–º –ø—Ä–æ—Ü–µ—Å—Å–æ–º

3. **–ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–æ–∫–µ–Ω –≤ `Core/config.py`
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –±–æ—Ç –∑–∞–ø—É—â–µ–Ω

### –ö–æ–Ω—Ç–∞–∫—Ç—ã –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏

- –°–æ–∑–¥–∞–π—Ç–µ Issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
- –û–ø–∏—à–∏—Ç–µ –ø—Ä–æ–±–ª–µ–º—É —Å –ª–æ–≥–∞–º–∏
- –£–∫–∞–∂–∏—Ç–µ –≤–µ—Ä—Å–∏—é —Å–∏—Å—Ç–µ–º—ã

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

–ü—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π MIT.

## ü§ù –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç

1. –§–æ—Ä–∫–Ω–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
2. –°–æ–∑–¥–∞–π—Ç–µ –≤–µ—Ç–∫—É –¥–ª—è –Ω–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–∏
3. –í–Ω–µ—Å–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
4. –°–æ–∑–¥–∞–π—Ç–µ Pull Request

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [FastAPI –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://fastapi.tiangolo.com/)
- [Aiogram –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://docs.aiogram.dev/)
- [OpenCV –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://docs.opencv.org/)
- [SQLite –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://www.sqlite.org/docs.html)

---

**KABAN SYSTEM** - –°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è 3D –ø—Ä–∏–Ω—Ç–µ—Ä–∞–º–∏  
–í–µ—Ä—Å–∏—è: 1.0  
–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: 2024 